\label{\detokenize{tabular:table-having-caption}}

\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{caption for table}\label{\detokenize{tabular:id1}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|}
\hline
\sphinxstyletheadfamily \hskip0pt\relax
header1
&\sphinxstyletheadfamily \hskip0pt\relax
header2
\\
\hline\hskip0pt\relax
cell1\sphinxhyphen{}1
&\hskip0pt\relax
cell1\sphinxhyphen{}2
\\
\hline\hskip0pt\relax
cell2\sphinxhyphen{}1
&\hskip0pt\relax
cell2\sphinxhyphen{}2
\\
\hline\hskip0pt\relax
cell3\sphinxhyphen{}1
&\hskip0pt\relax
cell3\sphinxhyphen{}2
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}
